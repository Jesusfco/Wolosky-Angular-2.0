<mat-progress-bar mode="indeterminate" *ngIf="sendingData > 0" class="barLoader"></mat-progress-bar>

<router-outlet></router-outlet>

<h2 class="centerText">Asistencias</h2>

<form class=" flex" (submit)="setRecords()">
    <div class="l4">
        <div class="icon-left">
            <input (change)="setRecords()" type="date" [(ngModel)]="search.from" name="from">
            <label class="icon"><mat-icon>date_range</mat-icon></label>
        </div>
    </div>

    <div class="l4">
        <div class="icon-left">
            <input (change)="setRecords()" type="date" [(ngModel)]="search.to" name="to">
            <label class="icon"><mat-icon>date_range</mat-icon></label>
        </div>
    </div>

    <div class="l4">
        <div class="icon-left">
            <input [(ngModel)]="search.name"  name="name" type="search" placeholder="Buscar Usuario">
            <label class="icon"><mat-icon>search</mat-icon></label>
        </div>
        
    </div>
</form>


<div class="responsive-table" [ngClass]="{ 'loadingForm': sendingData > 0}">
    <table align="center">
        <thead>
            <tr>

                <th class="left">Usuario</th>
                <th>Fecha</th>
                <th>Horario</th>

            </tr>
            <!-- <th colspan="3">Opciones</th> -->
        </thead>
        <tbody>
            <tr *ngFor="let record of records">

                <td class="left">{{ record.user.name }}</td>
                <td>{{ record.date }}</td>
                <td>{{ record.checkIn }} - {{ record.checkOut }}</td>
            </tr>
        </tbody>
    </table>
    <mat-paginator (page)="pageAction($event)" [length]="search.total" [pageSize]="search.items" [pageSizeOptions]="[5, 10, 25, 50, 100]">
    </mat-paginator>
</div>

<div class="floatOptions">

    <div class="moreOptions">

        <a target="_blank" >
            <button matTooltip="Exportar Asistencias" [routerLink]="['./exportar']" matTooltipPosition="left" mat-fab id="cancelButton">
                <mat-icon >archive</mat-icon>
            </button>
        </a>

        <button  matTooltip="Nuevo Producto" matTooltipPosition="left" mat-fab>
            <mat-icon >create</mat-icon>
        </button>

        <button  matTooltip="Nuevo Producto" matTooltipPosition="left" mat-fab>
            <mat-icon >create</mat-icon>
        </button>

    </div>

    <button matTooltip="Opciones de Inventario" matTooltipPosition="left" mat-fab color="pri" class="floatOptionPrincipal">
                    <mat-icon >settings</mat-icon>
                </button>

</div>
