<div class="background" [@background]="backgroundState"></div>
<div id="createCard" [@principal]="cardState">

    <div id="cerrarBtn" (click)="close()"> Cerrar <i class="material-icons">close</i></div>

    <div class="form">
        <h1 align="center">Crear Usuario</h1>

        <div>
            <form (submit)="createUser()">
                <div class="form1">
                    <div class="personalData">
                        <h2>Datos Personales</h2>
                        <input [(ngModel)]="user.name" name="name" type="text" placeholder="Nombre">

                        <select [(ngModel)]="user.userTypeId" name="userTypeId">
                          <option value="1">Alumno</option> 
                          <option value="2">Empleado</option>
                          <option value="3">Escritor</option>
                          <option value="4">Super escritor</option>
                          <option value="5">Administrador</option>
                        </select><br>

                        <input [(ngModel)]="user.phone" name="phone" type="tel" placeholder="Telefono">

                        <input [(ngModel)]="user.email" name="email" type="email" placeholder="Correo"><br>

                        <input [(ngModel)]="user.birthday" name="birthday" type="date" placeholder="Cumpleanos">

                        <input [(ngModel)]="user.placeBirth" name="placeBirth" type="text" placeholder="Lugar de nacimiento"><br>

                        <input [(ngModel)]="user.curp" name="curp" type="text" placeholder="Curp">

                        <input [(ngModel)]="user.insurance" name="insurance" type="text" placeholder="Seguro social"><br>

                        <select [(ngModel)]="user.gender" name="gender">
                          <option value="1">Masculino</option> 
                          <option value="2">Femenino</option>
                        </select>

                        <input name="foto" type="file" placeholder="Foto">

                        <input *ngIf="user.userTypeId > 2" [(ngModel)]="user.password" name="password" placeholder="ContraseÃ±a" type="password" width="100%">

                    </div>

                    <div class="direccion">
                        <h2>Direccion</h2>
                        <input [(ngModel)]="user.street" name="street" type="text" placeholder="Calle">
                        <input [(ngModel)]="user.hauseNumber" name="hauseNumber" type="number" placeholder="Numero de casa"><br>
                        <input [(ngModel)]="user.colony" name="colony" type="text" placeholder="Colonia">
                        <input [(ngModel)]="user.city" name="city" type="text" placeholder="Ciudad"><br>
                    </div>

                    <div class="horarios" *ngIf="user.userTypeId < 3">
                        <h2>Horarios</h2>
                        <table>
                            <thead>
                                <tr>
                                    <th>Dia</th>
                                    <th>Entrada</th>
                                    <th>Salida</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let x of schedules">
                                    <ng-container *ngIf="x.active">
                                        <th>{{ x.dayView }}</th>
                                        <th>{{ x.checkIn }}</th>
                                        <th>{{ x.checkOut }}</th>
                                    </ng-container>
                                </tr>
                            </tbody>
                        </table>

                        <a class="btn horarioBtn" (click)="scheduleView = true">Asignar Horario</a>

                    </div>
                    <div class="referencias" *ngIf="user.userTypeId < 3">
                        <h2>Referencias</h2>
                        <table>
                            <thead>
                                <tr>
                                    <th>Nombre</th>
                                    <th>Parentesco</th>

                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let x of references">
                                    <th>{{ x.name }}</th>
                                    <th>{{ x.relationship }}</th>
                                </tr>
                            </tbody>
                        </table>

                        <a class="btn referenceBtn" (click)="referenceView = true">Asignar Referencias</a>

                    </div>

                </div>


                <button type="submit" class="btn formBtn">Crear Usuario</button>
            </form>
            <app-create-schedule *ngIf="scheduleView" [schedules]="schedules" (closeEventCreateSchedule)="assignSchedules($event)"></app-create-schedule>
            <app-reference-create *ngIf="referenceView" (closeReferenceEvent)="closeReferenceView()" [references]="references"></app-reference-create>
        </div>
    </div>